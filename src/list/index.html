<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            // 이 함수는 HTML 문서가 로드될 때 실행됨. 
            window.onload = function() { 
                var title = document.getElementById('title');
                var list = document.getElementById('list');
                var li = list.getElementsByTagName('li');
                var addBtn = document.getElementById('add-btn');

                //클릭하면 activeItem 함수 호출되도록 list변수에 이벤트 리스너 등록
                list.addEventListener('click', activeItem);

                //리스트를 클릭하면 호출되는 함수
                function activeItem(event) {
                    //클릭한 노드가 li이면
                    if(event.target.nodeName == 'li') {
                        title.innerHTML = event.target.innerText; //제목 영역에 표시
                    }

                    //목록 스타일 초기화
                    for(var i=0; i<event.target.parentNode.children.length; i++) {
                        event.target.parentNode.children[i].removeAttribute('class');
                    }

                    //클래스를 추가해서 CSS 스타일을 적용시킴
                    event.target.setAttribute('class', 'active');
                }

                //목록 추가 버튼을 클릭하면 호출되는 함수를 addBtn에 이벤트리스너 등록함
                addBtn.addEventListener('click', function(event) {
                    var txt = prompt('제목 입력','');
                    list.innerHTML += '<li>' + txt + '</li>';
                });
            }
        </script>
        <style>
            #add-btn {
                padding: 5px 10px;
                border: 0;
                background: #f80;
                color: white;
                border-radius: 5px;
            }

            ul {
                padding: 0;
                list-style-position: inside;
            }

            li {
                border-bottom: 1px solid #999;
                padding: 5px 0;
            }

            .active { 
                background: #abc;
            }
        </style>
    </head>
    <body>

        <h1 id='title'>할 일 목록</h1><hr>
        <button id = 'add-btn'>목록 추가</button>

        <ul id='list'>
            <li>제목 1</li>
            <li>제목 2</li>
            <li>제목 3</li>
            <li>제목 4</li>
            <li>제목 5</li>
        </ul>
    </body>
</html>
